(function(){"use strict";var e={3164:function(e,t,a){var r=a(9242),s=a(3396);const i={class:"content"};function n(e,t,a,r,n,o){const c=(0,s.up)("navbar"),l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c),(0,s._)("div",i,[(0,s.Wm)(l)])],64)}a(7658);var o=a.p+"img/logo.cfaed864.png";const c=e=>((0,s.dD)("data-v-399fd874"),e=e(),(0,s.Cn)(),e),l={class:"navbar"},d={class:"navbar__wrapper"},h=c((()=>(0,s._)("img",{class:"navbar__logo",src:o,alt:"Logo"},null,-1))),u=[h],p={class:"navbar__buttons"};function m(e,t,a,r,i,n){const o=(0,s.up)("custom-button");return(0,s.wg)(),(0,s.iD)("section",l,[(0,s._)("div",d,[(0,s._)("figure",{class:"navbar__logo-wrapper",onClick:t[0]||(t[0]=t=>e.$router.push("/weather-app/"))},u),(0,s._)("div",p,[(0,s.Wm)(o,{class:"navbar__button-main",onClick:t[1]||(t[1]=t=>e.$router.push("/weather-app/"))},{default:(0,s.w5)((()=>[(0,s.Uk)("Main")])),_:1}),(0,s.Wm)(o,{class:"navbar__button-favorites",onClick:t[2]||(t[2]=t=>e.$router.push("/weather-app/favorites"))},{default:(0,s.w5)((()=>[(0,s.Uk)("Favorites")])),_:1})])])])}var w={name:"navbar"},_=a(89);const g=(0,_.Z)(w,[["render",m],["__scopeId","data-v-399fd874"]]);var f=g,y={components:{Navbar:f}};const v=(0,_.Z)(y,[["render",n]]);var W=v,D=a(7139);const C={class:"main"},k={class:"search"},b={class:"search__wrapper"},I={key:0,class:"main__wrapper"},S={class:"main__header"},O={class:"weather"},L={class:"weather__buttons"};function z(e,t,a,i,n,o){const c=(0,s.up)("autocomplete-input"),l=(0,s.up)("custom-button"),d=(0,s.up)("weather-card"),h=(0,s.up)("weak-weather-card"),u=(0,s.up)("weather-cities"),p=(0,s.up)("weather-graph"),m=(0,s.up)("custom-loader");return(0,s.wg)(),(0,s.iD)("section",C,[(0,s._)("div",k,[(0,s._)("div",b,[(0,s.Wm)(c,{class:"search-input"})])]),(0,s.Wm)(r.W3,{name:"weather-card"},{default:(0,s.w5)((()=>[e.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("div",null,[(0,s._)("h1",S,"Weather in "+(0,D.zw)(e.city),1)]),(0,s._)("div",O,[(0,s._)("div",L,[(0,s.Wm)(l,{class:(0,D.C_)(["weather__button day",{weather__button_active:!n.isWeakWeather}]),onClick:o.changeWeatherRange},{default:(0,s.w5)((()=>[(0,s.Uk)("Day")])),_:1},8,["class","onClick"]),(0,s.Wm)(l,{class:(0,D.C_)(["weather__button weak",{weather__button_active:n.isWeakWeather}]),onClick:o.changeWeatherRange},{default:(0,s.w5)((()=>[(0,s.Uk)("Weak")])),_:1},8,["class","onClick"])]),n.isWeakWeather?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(d,{key:0})),n.isWeakWeather?((0,s.wg)(),(0,s.j4)(h,{key:1})):(0,s.kq)("",!0)]),(0,s.Wm)(u),(0,s.Wm)(p,{range:n.isWeakWeather},null,8,["range"])]))])),_:1}),e.isLoading?((0,s.wg)(),(0,s.j4)(m,{key:0,class:"custom-loader"})):(0,s.kq)("",!0)])}const U=e=>((0,s.dD)("data-v-0f868335"),e=e(),(0,s.Cn)(),e),P={class:"weather-card"},T={class:"weather-card__wrapper"},M={class:"weather-card__date"},F={class:"weather-card__temperature"},Z={key:0},B={class:"weather-card__feels"},q=U((()=>(0,s._)("span",null,"Feels ",-1))),H={key:0},j={class:"weather-card__clouds"},x={class:"weather-card__other-info"},$={class:"weather-card__wind info"},V=U((()=>(0,s._)("span",{class:"name"},"Wind",-1))),N=U((()=>(0,s._)("span",{class:"symbol"},"m/s",-1))),Y={class:"weather-card__pressure info"},G=U((()=>(0,s._)("span",{class:"name"},"Pressure",-1))),J=U((()=>(0,s._)("span",{class:"symbol"},"mm Hg",-1))),K={class:"weather-card__humidity info"},A=U((()=>(0,s._)("span",{class:"name"},"Humidity",-1))),R=U((()=>(0,s._)("span",{class:"symbol"},"%",-1)));function E(e,t,a,r,i,n){return(0,s.wg)(),(0,s.iD)("section",P,[(0,s._)("div",T,[(0,s._)("div",M,[(0,s._)("span",null,(0,D.zw)(e.date),1)]),(0,s._)("div",F,[e.currentTemperature>0?((0,s.wg)(),(0,s.iD)("span",Z,"+")):(0,s.kq)("",!0),(0,s._)("span",null,(0,D.zw)(e.currentTemperature),1)]),(0,s._)("div",B,[q,e.currentFeels>0?((0,s.wg)(),(0,s.iD)("span",H,"+")):(0,s.kq)("",!0),(0,s._)("span",null,(0,D.zw)(e.currentFeels),1)]),(0,s._)("div",j,[(0,s._)("span",null,(0,D.zw)(e.currentClouds),1)]),(0,s._)("div",x,[(0,s._)("div",$,[V,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(e.currentWind),1),N])]),(0,s._)("div",Y,[G,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(e.currentPressure),1),J])]),(0,s._)("div",K,[A,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(e.currentHumidity),1),R])])])])])}var Q=a(65),X={name:"weather-card",data(){return{}},computed:{...(0,Q.rn)({weatherData:e=>e.weather.weatherData}),...(0,Q.Se)({city:"weather/city",date:"weather/date",currentTemperature:"weather/currentTemperature",currentFeels:"weather/currentFeels",currentClouds:"weather/currentClouds",currentWind:"weather/currentWind",currentPressure:"weather/currentPressure",currentHumidity:"weather/currentHumidity"})}};const ee=(0,_.Z)(X,[["render",E],["__scopeId","data-v-0f868335"]]);var te=ee;const ae=e=>((0,s.dD)("data-v-00e2240b"),e=e(),(0,s.Cn)(),e),re={class:"weak-weather-card"},se={class:"weather-card__date"},ie={class:"weather-card__temperature"},ne={key:0},oe={class:"weather-card__feels"},ce=ae((()=>(0,s._)("span",null,"Feels ",-1))),le={key:0},de={class:"weather-card__clouds"},he={class:"weather-card__other-info"},ue={class:"weather-card__wind"},pe=ae((()=>(0,s._)("span",{class:"name"},"Wind",-1))),me=ae((()=>(0,s._)("span",{class:"symbol"},"m/s",-1))),we={class:"weather-card__pressure"},_e=ae((()=>(0,s._)("span",{class:"name"},"Pressure",-1))),ge=ae((()=>(0,s._)("span",{class:"symbol"},"mm Hg",-1))),fe={class:"weather-card__humidity"},ye=ae((()=>(0,s._)("span",{class:"name"},"Humidity",-1))),ve=ae((()=>(0,s._)("span",{class:"symbol"},"%",-1)));function We(e,t,a,r,i,n){return(0,s.wg)(),(0,s.iD)("section",re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.formattedWeakWeatherDate,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"weak-weather-card__element",key:e.dt},[(0,s._)("div",se,[(0,s._)("span",null,(0,D.zw)(e.date),1)]),(0,s._)("div",ie,[e.temperature>0?((0,s.wg)(),(0,s.iD)("span",ne,"+")):(0,s.kq)("",!0),(0,s._)("span",null,(0,D.zw)(e.temperature),1)]),(0,s._)("div",oe,[ce,e.feels>0?((0,s.wg)(),(0,s.iD)("span",le,"+")):(0,s.kq)("",!0),(0,s._)("span",null,(0,D.zw)(e.feels),1)]),(0,s._)("div",de,[(0,s._)("span",null,(0,D.zw)(e.clouds),1)]),(0,s._)("div",he,[(0,s._)("div",ue,[pe,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(e.wind),1),me])]),(0,s._)("div",we,[_e,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(e.pressure),1),ge])]),(0,s._)("div",fe,[ye,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(e.humidity),1),ve])])])])))),128))])}var De={name:"weak-weather-card",data(){return{}},computed:{...(0,Q.Se)({weakWeatherDate:"weather/weakWeatherDate",formattedWeakWeatherDate:"weather/formattedWeakWeatherDate"})}};const Ce=(0,_.Z)(De,[["render",We],["__scopeId","data-v-00e2240b"]]);var ke=Ce;const be={class:"weather-cities"},Ie={class:"weather-cities__buttons"},Se={class:"weather-cities__wrapper"};function Oe(e,t,a,r,i,n){const o=(0,s.up)("custom-button"),c=(0,s.up)("city-weather-item"),l=(0,s.up)("custom-dialog");return(0,s.wg)(),(0,s.iD)("section",be,[(0,s._)("div",Ie,[(0,s.Wm)(o,{class:"weather-cities__button",onClick:n.addCity},{default:(0,s.w5)((()=>[(0,s.Uk)("Add")])),_:1},8,["onClick"]),(0,s.Wm)(o,{class:"weather-cities__button",onClick:t[0]||(t[0]=t=>n.deleteCity(e.e))},{default:(0,s.w5)((()=>[(0,s.Uk)("Delete")])),_:1}),(0,s.Wm)(o,{class:"weather-cities__button",onClick:n.clearCities},{default:(0,s.w5)((()=>[(0,s.Uk)("Clear")])),_:1},8,["onClick"]),(0,s.Wm)(o,{class:"weather-cities__button favorites-button",onClick:n.addToFavorites},{default:(0,s.w5)((()=>[(0,s.Uk)("Add Favorites")])),_:1},8,["onClick"])]),(0,s._)("div",Se,[((0,s.wg)(),(0,s.j4)(s.Ob,null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.formattedCitiesWeather,(e=>((0,s.wg)(),(0,s.j4)(c,{class:(0,D.C_)({selected:e.id===i.itemData?.id}),key:e.id,"weather-data":e,onClick:t=>n.getItemData(e)},null,8,["class","weather-data","onClick"])))),128))],1024))]),(0,s.Wm)(l,{class:"delete-city-dialog",show:i.dialogVisible,"onUpdate:show":t[1]||(t[1]=e=>i.dialogVisible=e)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,D.zw)(i.dialogMessage),1)])),_:1},8,["show"])])}const Le=e=>((0,s.dD)("data-v-40dfc3ec"),e=e(),(0,s.Cn)(),e),ze={class:"city-weather-item"},Ue={class:"city-weather-item__wrapper"},Pe={class:"city-weather-item__name"},Te={class:"city-weather-item__temperature"},Me={key:0},Fe={class:"city-weather-item__feels"},Ze=Le((()=>(0,s._)("span",null,"Feels ",-1))),Be={key:0},qe={class:"city-weather-item__clouds"},He={class:"city-weather-item__other-info"},je={class:"city-weather-item__wind info"},xe=Le((()=>(0,s._)("span",{class:"name"},"Wind",-1))),$e=Le((()=>(0,s._)("span",{class:"symbol"},"m/s",-1))),Ve={class:"city-weather-item__pressure info"},Ne=Le((()=>(0,s._)("span",{class:"name"},"Pressure",-1))),Ye=Le((()=>(0,s._)("span",{class:"symbol"},"mm Hg",-1))),Ge={class:"city-weather-item__humidity info"},Je=Le((()=>(0,s._)("span",{class:"name"},"Humidity",-1))),Ke=Le((()=>(0,s._)("span",{class:"symbol"},"%",-1)));function Ae(e,t,a,r,i,n){return(0,s.wg)(),(0,s.iD)("section",ze,[(0,s._)("div",Ue,[(0,s._)("div",Pe,[(0,s._)("span",null,(0,D.zw)(a.weatherData.name),1)]),(0,s._)("div",Te,[a.weatherData.temperature>0?((0,s.wg)(),(0,s.iD)("span",Me,"+")):(0,s.kq)("",!0),(0,s._)("span",null,(0,D.zw)(a.weatherData.temperature),1)]),(0,s._)("div",Fe,[Ze,a.weatherData.feels>0?((0,s.wg)(),(0,s.iD)("span",Be,"+")):(0,s.kq)("",!0),(0,s._)("span",null,(0,D.zw)(a.weatherData.feels),1)]),(0,s._)("div",qe,[(0,s._)("span",null,(0,D.zw)(a.weatherData.clouds),1)]),(0,s._)("div",He,[(0,s._)("div",je,[xe,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(a.weatherData.wind),1),$e])]),(0,s._)("div",Ve,[Ne,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(a.weatherData.pressure),1),Ye])]),(0,s._)("div",Ge,[Je,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(a.weatherData.humidity),1),Ke])])])])])}var Re={name:"city-weather-item",props:{weatherData:{type:Object,default:{}}},data(){return{}}};const Ee=(0,_.Z)(Re,[["render",Ae],["__scopeId","data-v-40dfc3ec"]]);var Qe=Ee,Xe={name:"weather-cities",components:{cityWeatherItem:Qe},data(){return{itemData:null,dialogVisible:!1,dialogMessage:null}},computed:{...(0,Q.rn)({citiesWeather:e=>e.weather.citiesWeather,currentWeatherData:e=>e.weather.currentWeatherData,dialogMessageStore:e=>e.weather.dialogMessage}),...(0,Q.Se)({formattedCitiesWeather:"weather/formattedCitiesWeather"})},methods:{...(0,Q.OI)({setCitiesWeather:"weather/setCitiesWeather",deleteCitiesWeatherItem:"weather/deleteCitiesWeatherItem",clearCitiesWeather:"weather/clearCitiesWeather"}),...(0,Q.nv)({fetchWeatherByIP:"weather/fetchWeatherByIP"}),dialogOpen(e){this.dialogMessage=e,this.dialogVisible=!0},addCity(){this.setCitiesWeather(this.currentWeatherData),this.dialogMessageStore?this.dialogOpen(this.dialogMessageStore):this.dialogOpen("City added to list")},deleteCity(){this.itemData&&(this.deleteCitiesWeatherItem(this.itemData),this.resetItemData(),this.dialogOpen("City deleted from list"))},clearCities(){this.clearCitiesWeather(),this.dialogOpen("Cities list is cleared")},getLocalStorageItem(){return JSON.parse(localStorage.getItem("favoritesCitiesWeather"))},setLocalStorageData(e){e.push(this.itemData),localStorage.setItem("favoritesCitiesWeather",JSON.stringify(e))},checkLocalStorage(){return 5===this.getLocalStorageItem().length||this.getLocalStorageItem().some((e=>e.id===this.itemData?.id))},addToFavorites(){if(this.itemData){let e=[];this.getLocalStorageItem()?this.checkLocalStorage()?this.dialogOpen("City exist in favorites list or favorites list is over"):(e=this.getLocalStorageItem(),this.setLocalStorageData(e)):this.setLocalStorageData(e),this.resetItemData()}else this.dialogOpen("You must select city")},getItemData(e){this.itemData=e},resetItemData(){this.itemData=null}}};const et=(0,_.Z)(Xe,[["render",Oe],["__scopeId","data-v-44d3f95b"]]);var tt=et;const at={class:"weather-graph"},rt={ref:"weatherGraph",class:"weather-graph__canvas"};function st(e,t,a,r,i,n){return(0,s.wg)(),(0,s.iD)("section",at,[(0,s._)("canvas",rt,null,512)])}var it=a(8454),nt={name:"weather-graph",props:{range:{type:Boolean,default:!1}},data(){return this.graphInstance=null,{dayOptions:{hour:"numeric",minute:"numeric"},weakOptions:{month:"long",day:"numeric",hour:"numeric",minute:"numeric"}}},computed:{...(0,Q.rn)({weatherData:e=>e.weather.weatherData}),listForecast(){return this.range?this.weatherData?.list:this.weatherData?.list?.slice(0,9)},listTemperatures(){return this.listForecast?.map((e=>Math.round(e.main.temp)))},listTemperatureTimes(){const e=this.range?this.weakOptions:this.dayOptions;return this.listForecast?.map((t=>{let a=new Date(1e3*t.dt).toLocaleString("en-US",e);return`${a}`}))},graphOptions(){return{type:"line",data:{labels:this.listTemperatureTimes,datasets:[{label:"Temperature",data:this.listTemperatures,backgroundColor:"#0099ff",borderColor:"#0099ff",borderWidth:2}]},options:{responsive:!0,lineTension:1,scales:{y:{type:"linear"}},plugins:{legend:{align:"end"}}}}}},methods:{initGraph(){const e=this.$refs.weatherGraph;this.graphInstance=new it.ZP(e,this.graphOptions)}},watch:{graphOptions:{handler(){this.graphInstance.destroy(),this.initGraph()},deep:!0}},mounted(){this.initGraph()}};const ot=(0,_.Z)(nt,[["render",st],["__scopeId","data-v-3734cc91"]]);var ct=ot;const lt={class:"autocomplete"},dt={key:0,class:"autocomplete__dropdown"},ht=["onClick"];function ut(e,t,a,r,i,n){const o=(0,s.up)("custom-input");return(0,s.wg)(),(0,s.iD)("section",lt,[(0,s.Wm)(o,{ref:"autocompleteInput",class:"autocomplete__input",modelValue:r.searchTerm,"onUpdate:modelValue":t[0]||(t[0]=e=>r.searchTerm=e),placeholder:"Type city name ..."},null,8,["modelValue"]),r.searchCities.length>0?((0,s.wg)(),(0,s.iD)("ul",dt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.searchCities,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"autocomplete__option",key:e,onClick:t=>n.selectCity(e)},(0,D.zw)(e),9,ht)))),128))])):(0,s.kq)("",!0)])}var pt=a(4311),mt=a(4870);function wt(){const e=(0,mt.iH)([]);let t=(0,mt.iH)("");const a=async()=>{try{const t=await pt.Z.get("https://countriesnow.space/api/v0.1/countries/population/cities");e.value=t.data.data.map((e=>e.city))}catch(t){console.log(t)}},r=(0,s.Fl)((()=>""===t.value?[]:e.value.filter((e=>e.indexOf(t.value)>-1||e.toLowerCase().indexOf(t.value)>-1))));return(0,s.bv)(a),{searchTerm:t,searchCities:r}}var _t={name:"autocomplete-input",data(){return{}},methods:{...(0,Q.nv)({fetchCurrentWeatherByCity:"weather/fetchCurrentWeatherByCity",fetchWeatherByCity:"weather/fetchWeatherByCity"}),selectCity(e){this.fetchCurrentWeatherByCity(e),this.fetchWeatherByCity(e),this.searchTerm=""}},setup(){const{searchTerm:e,searchCities:t}=wt();return{searchTerm:e,searchCities:t}}};const gt=(0,_.Z)(_t,[["render",ut],["__scopeId","data-v-56b20fa7"]]);var ft=gt,yt={components:{WeatherCard:te,WeakWeatherCard:ke,WeatherCities:tt,WeatherGraph:ct,AutocompleteInput:ft},data(){return{isWeakWeather:!1}},computed:{...(0,Q.rn)({ipData:e=>e.ip.ipData,weatherData:e=>e.weather.weatherData,isLoading:e=>e.weather.isLoading}),...(0,Q.Se)({city:"weather/city"})},methods:{...(0,Q.OI)({}),...(0,Q.nv)({fetchIP:"ip/fetchIP",fetchCurrentWeatherByIP:"weather/fetchCurrentWeatherByIP",fetchWeatherByIP:"weather/fetchWeatherByIP"}),changeWeatherRange(){this.isWeakWeather=!this.isWeakWeather}},async created(){await this.fetchIP(),await this.fetchCurrentWeatherByIP(this.ipData),await this.fetchWeatherByIP(this.ipData)}};const vt=(0,_.Z)(yt,[["render",z],["__scopeId","data-v-ac0696c4"]]);var Wt=vt;const Dt=e=>((0,s.dD)("data-v-19a47379"),e=e(),(0,s.Cn)(),e),Ct={class:"favorites"},kt={key:0,class:"favorites__wrapper"},bt=Dt((()=>(0,s._)("div",null,[(0,s._)("h1",{class:"main__header"},"Favorites cities weather")],-1))),It={class:"weather"};function St(e,t,a,i,n,o){const c=(0,s.up)("favorites-city-weather-card"),l=(0,s.up)("custom-loader");return(0,s.wg)(),(0,s.iD)("section",Ct,[e.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",kt,[bt,(0,s._)("div",It,[(0,s.Wm)(r.W3,{name:"favorites-city-weather-card"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.citiesCoords,((e,t)=>((0,s.wg)(),(0,s.j4)(c,{key:e?.lat,id:t,coords:e,onClick:o.refreshData},null,8,["id","coords","onClick"])))),128))])),_:1})])])),e.isLoading?((0,s.wg)(),(0,s.j4)(l,{key:1,class:"custom-loader"})):(0,s.kq)("",!0)])}const Ot=e=>((0,s.dD)("data-v-262e45a5"),e=e(),(0,s.Cn)(),e),Lt={key:0,class:"favorites-city-weather-card"},zt={class:"favorites-city-weather-card__wrapper"},Ut={class:"favorites-city-weather-card__date"},Pt={class:"favorites-city-weather-card__date"},Tt={class:"favorites-city-weather-card__temperature"},Mt={key:0},Ft={class:"favorites-city-weather-card__feels"},Zt=Ot((()=>(0,s._)("span",null,"Feels ",-1))),Bt={key:0},qt={class:"favorites-city-weather-card__clouds"},Ht={class:"favorites-city-weather-card__other-info"},jt={class:"favorites-city-weather-card__wind info"},xt=Ot((()=>(0,s._)("span",{class:"name"},"Wind",-1))),$t=Ot((()=>(0,s._)("span",{class:"symbol"},"m/s",-1))),Vt={class:"favorites-city-weather-card__pressure info"},Nt=Ot((()=>(0,s._)("span",{class:"name"},"Pressure",-1))),Yt=Ot((()=>(0,s._)("span",{class:"symbol"},"mm Hg",-1))),Gt={class:"favorites-city-weather-card__humidity info"},Jt=Ot((()=>(0,s._)("span",{class:"name"},"Humidity",-1))),Kt=Ot((()=>(0,s._)("span",{class:"symbol"},"%",-1)));function At(e,t,a,r,i,n){return e.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("section",Lt,[(0,s._)("div",zt,[(0,s._)("button",{class:"favorites-city-weather-card__delete-button",onClick:t[0]||(t[0]=(...e)=>n.deleteCard&&n.deleteCard(...e))}),(0,s._)("div",Ut,[(0,s._)("span",null,(0,D.zw)(n.cityWeather.date),1)]),(0,s._)("div",Pt,[(0,s._)("span",null,(0,D.zw)(n.cityWeather.name),1)]),(0,s._)("div",Tt,[n.cityWeather.temperature>0?((0,s.wg)(),(0,s.iD)("span",Mt,"+")):(0,s.kq)("",!0),(0,s._)("span",null,(0,D.zw)(n.cityWeather.temperature),1)]),(0,s._)("div",Ft,[Zt,n.cityWeather.feels>0?((0,s.wg)(),(0,s.iD)("span",Bt,"+")):(0,s.kq)("",!0),(0,s._)("span",null,(0,D.zw)(n.cityWeather.feels),1)]),(0,s._)("div",qt,[(0,s._)("span",null,(0,D.zw)(n.cityWeather.clouds),1)]),(0,s._)("div",Ht,[(0,s._)("div",jt,[xt,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(n.cityWeather.wind),1),$t])]),(0,s._)("div",Vt,[Nt,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(n.cityWeather.pressure),1),Yt])]),(0,s._)("div",Gt,[Jt,(0,s._)("span",null,[(0,s.Uk)((0,D.zw)(n.cityWeather.humidity),1),Kt])])])])]))}var Rt={name:"favorites-city-weather-card",props:{id:{type:[Number,String]},coords:{type:Object,default:{}}},data(){return{favoritesCityData:null}},computed:{...(0,Q.rn)({isLoading:e=>e.weather.isLoading,dateOptions:e=>e.weather.dateOptions}),...(0,Q.Se)({city:"weather/city"}),cityWeather(){return{name:this.favoritesCityData?.name,date:new Date(1e3*this.favoritesCityData?.dt).toLocaleString("en-US",this.dateOptions),temperature:Math.round(this.favoritesCityData?.main?.temp),feels:Math.round(this.favoritesCityData?.main?.feels_like),clouds:this.favoritesCityData?.weather[0]?.description[0].toUpperCase()+this.favoritesCityData?.weather[0]?.description?.slice(1),wind:this.favoritesCityData?.wind?.speed,pressure:(.750063755419211*this.favoritesCityData?.main?.pressure).toFixed(0),humidity:this.favoritesCityData?.main?.humidity}}},methods:{...(0,Q.nv)({fetchCurrentWeatherByCoords:"weather/fetchCurrentWeatherByCoords"}),deleteCard(){let e=this.getLocalStorageItem();e.length>1?(e.splice(this.id,1),this.setLocalStorageData(e)):localStorage.removeItem("favoritesCitiesWeather")},getLocalStorageItem(){return JSON.parse(localStorage.getItem("favoritesCitiesWeather"))},setLocalStorageData(e){localStorage.setItem("favoritesCitiesWeather",JSON.stringify(e))}},async mounted(){this.favoritesCityData=await this.fetchCurrentWeatherByCoords(this.coords)}};const Et=(0,_.Z)(Rt,[["render",At],["__scopeId","data-v-262e45a5"]]);var Qt=Et,Xt={components:{FavoritesCityWeatherCard:Qt},data(){return{citiesCoords:null}},computed:{...(0,Q.rn)({isLoading:e=>e.weather.isLoading})},methods:{refreshData(){this.citiesCoords=JSON.parse(localStorage.getItem("favoritesCitiesWeather"))?.map((e=>e?.coord))}},mounted(){this.citiesCoords=JSON.parse(localStorage.getItem("favoritesCitiesWeather"))?.map((e=>e?.coord))}};const ea=(0,_.Z)(Xt,[["render",St],["__scopeId","data-v-19a47379"]]);var ta=ea,aa=a(2483);const ra=[{path:"/weather-app/",component:Wt},{path:"/weather-app/favorites",component:ta}],sa=(0,aa.p7)({history:(0,aa.PO)(),routes:ra});var ia=sa;const na={state:()=>({ipData:null,apiKey:"bb691e293eec4a21a615c07be7216208"}),getters:{},mutations:{setIP(e,t){e.ipData=t}},actions:{async fetchIP({state:e,commit:t}){try{const e=await pt.Z.get("https://ipapi.co/json/");t("setIP",e.data)}catch(a){console.log(a)}}},namespaced:!0},oa={state:()=>({isLoading:!0,units:"metric",appid:"d8e5bc3db521d7a0cb06d99ce63610aa",limit:1,currentWeatherData:null,weatherData:null,dateOptions:{month:"long",day:"numeric"},citiesWeather:[],favoritesCitiesWeather:[],dialogMessage:null}),getters:{city(e){return`${e.weatherData?.city?.name}, ${e.weatherData?.city?.country}`},date(e){return new Date(1e3*e.currentWeatherData?.dt).toLocaleString("en-US",e.dateOptions)},currentTemperature(e){return Math.round(e.currentWeatherData?.main?.temp)},currentFeels(e){return Math.round(e.currentWeatherData?.main?.feels_like)},currentClouds(e){return e.currentWeatherData?.weather[0]?.description[0].toUpperCase()+e.currentWeatherData?.weather[0]?.description?.slice(1)},currentWind(e){return e.currentWeatherData?.wind?.speed},currentPressure(e){return(.750063755419211*e.currentWeatherData?.main?.pressure).toFixed(0)},currentHumidity(e){return e.currentWeatherData?.main?.humidity},weakWeatherDate(e){const t=[],a=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate());let r=new Date(a.setDate(a.getDate()+1));for(let s=0;s<e.weatherData?.list.length;s++)e.weatherData?.list[s].dt>Date.parse(r)/1e3&&(t.push(e.weatherData?.list[s]),r.setDate(r.getDate()+1));return t},formattedWeakWeatherDate(e,t){return t.weakWeatherDate?.map((t=>({id:t?.dt,date:new Date(1e3*t?.dt).toLocaleString("en-US",e.dateOptions),temperature:Math.round(t?.main?.temp),feels:Math.round(t?.main?.feels_like),clouds:t?.weather[0]?.description[0].toUpperCase()+t?.weather[0]?.description?.slice(1),wind:t?.wind?.speed,pressure:(.750063755419211*t?.main?.pressure).toFixed(0),humidity:t?.main?.humidity})))},formattedCitiesWeather(e){return e.citiesWeather.map((t=>({id:t.id,name:t.name,coord:t.coord,date:new Date(1e3*t?.dt).toLocaleString("en-US",e.dateOptions),temperature:Math.round(t?.main?.temp),feels:Math.round(t?.main?.feels_like),clouds:t?.weather[0]?.description[0].toUpperCase()+t?.weather[0]?.description?.slice(1),wind:t?.wind?.speed,pressure:(.750063755419211*t?.main?.pressure).toFixed(0),humidity:t?.main?.humidity})))}},mutations:{setCurrentWeatherData(e,t){e.currentWeatherData=t},setWeatherData(e,t){e.weatherData=t},setLoading(e,t){e.isLoading=t},setDialogMessage(e,t){e.dialogMessage=t},setCitiesWeather(e,t){e.dialogMessage=null,0===e.citiesWeather.length?e.citiesWeather.push(t):e.citiesWeather.length<5&&(e.citiesWeather.some((e=>e.dt===t.dt))?e.dialogMessage="City exist in list":e.citiesWeather.push(t))},deleteCitiesWeatherItem(e,t){e.citiesWeather.length>0&&(e.citiesWeather=e.citiesWeather.filter((e=>e.id!==t.id)))},clearCitiesWeather(e){e.citiesWeather=[]},setFavoritesCitiesWeather(e,t){e.favoritesCitiesWeather.push(t)}},actions:{async fetchCurrentWeatherByIP({state:e,commit:t},a){try{const r=await pt.Z.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:a.latitude,lon:a.longitude,units:e.units,appid:e.appid}});t("setCurrentWeatherData",r.data),t("setCitiesWeather",r.data)}catch(r){console.log(r)}finally{setTimeout((()=>{t("setLoading",!1)}),1e3)}},async fetchWeatherByIP({state:e,commit:t},a){try{const r=await pt.Z.get("https://api.openweathermap.org/data/2.5/forecast",{params:{lat:a.latitude,lon:a.longitude,units:e.units,appid:e.appid}});t("setWeatherData",r.data)}catch(r){console.log(r)}finally{setTimeout((()=>{t("setLoading",!1)}),1e3)}},async fetchCurrentWeatherByCity({state:e,commit:t},a){try{const r=await pt.Z.get("http://api.openweathermap.org/geo/1.0/direct",{params:{q:a,limit:e.limit,appid:e.appid}}).then((t=>pt.Z.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:t.data[0].lat,lon:t.data[0].lon,units:e.units,appid:e.appid}})));t("setCurrentWeatherData",r.data)}catch(r){console.log(r)}finally{t("setLoading",!1)}},async fetchWeatherByCity({state:e,commit:t},a){try{const r=await pt.Z.get("http://api.openweathermap.org/geo/1.0/direct",{params:{q:a,limit:e.limit,appid:e.appid}}).then((t=>pt.Z.get("https://api.openweathermap.org/data/2.5/forecast",{params:{lat:t.data[0].lat,lon:t.data[0].lon,units:e.units,appid:e.appid}})));t("setWeatherData",r.data)}catch(r){console.log(r)}finally{t("setLoading",!1)}},async fetchCurrentWeatherByCoords({state:e,commit:t},a){try{const r=await pt.Z.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:a.lat,lon:a.lon,units:e.units,appid:e.appid}});return r.data}catch(r){console.log(r)}finally{setTimeout((()=>{t("setLoading",!1)}),1e3)}}},namespaced:!0};var ca=(0,Q.MT)({modules:{ip:na,weather:oa}});const la={class:"button"};function da(e,t,a,r,i,n){return(0,s.wg)(),(0,s.iD)("button",la,[(0,s.WI)(e.$slots,"default",{},void 0,!0)])}var ha={name:"custom-button"};const ua=(0,_.Z)(ha,[["render",da],["__scopeId","data-v-2409a554"]]);var pa=ua;const ma=["value"];function wa(e,t,a,r,i,n){return(0,s.wg)(),(0,s.iD)("input",{value:a.modelValue,onInput:t[0]||(t[0]=(...e)=>n.updateInput&&n.updateInput(...e)),type:"text"},null,40,ma)}var _a={name:"custom-input",props:{modelValue:[String,Number]},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const ga=(0,_.Z)(_a,[["render",wa],["__scopeId","data-v-886738c0"]]);var fa=ga;function ya(e,t,a,i,n,o){return a.show?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"dialog",onClick:t[1]||(t[1]=(0,r.iM)(((...e)=>o.hideDialog&&o.hideDialog(...e)),["stop"]))},[(0,s._)("div",{onClick:t[0]||(t[0]=(0,r.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,s.WI)(e.$slots,"default",{},void 0,!0)])])):(0,s.kq)("",!0)}var va={name:"custom-dialog",props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}};const Wa=(0,_.Z)(va,[["render",ya],["__scopeId","data-v-2665027b"]]);var Da=Wa;const Ca=e=>((0,s.dD)("data-v-602b4821"),e=e(),(0,s.Cn)(),e),ka={class:"loader"},ba=Ca((()=>(0,s._)("div",{class:"loader__wrapper"},null,-1))),Ia=[ba];function Sa(e,t,a,r,i,n){return(0,s.wg)(),(0,s.iD)("div",ka,Ia)}var Oa={name:"custom-loader"};const La=(0,_.Z)(Oa,[["render",Sa],["__scopeId","data-v-602b4821"]]);var za=La,Ua=[pa,fa,Da,za];const Pa=(0,r.ri)(W);Ua.forEach((e=>{Pa.component(e.name,e)})),Pa.use(ca).use(ia).mount("#app")}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,i){if(!r){var n=1/0;for(d=0;d<e.length;d++){r=e[d][0],s=e[d][1],i=e[d][2];for(var o=!0,c=0;c<r.length;c++)(!1&i||n>=i)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(o=!1,i<n&&(n=i));if(o){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,s,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/weather-app/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,i,n=r[0],o=r[1],c=r[2],l=0;if(n.some((function(t){return 0!==e[t]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(c)var d=c(a)}for(t&&t(r);l<n.length;l++)i=n[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},r=self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(3164)}));r=a.O(r)})();
//# sourceMappingURL=app.bae46ec2.js.map