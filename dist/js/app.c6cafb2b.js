(function(){"use strict";var e={4018:function(e,t,a){var r=a(9242),n=a(3396);const s={class:"content"};function i(e,t,a,r,i,c){const o=(0,n.up)("navbar"),u=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(o),(0,n._)("div",s,[(0,n.Wm)(u)])],64)}a(7658);var c=a.p+"img/logo.cfaed864.png";const o={class:"navbar"},u={class:"navbar__wrapper"},l=(0,n._)("img",{class:"navbar__logo",src:c,alt:"Logo"},null,-1),p=[l],h={class:"navbar__buttons"};function d(e,t,a,r,s,i){const c=(0,n.up)("custom-button");return(0,n.wg)(),(0,n.iD)("section",o,[(0,n._)("div",u,[(0,n._)("figure",{class:"navbar__logo-wrapper",onClick:t[0]||(t[0]=t=>e.$router.push("/"))},p),(0,n._)("div",h,[(0,n.Wm)(c,{class:"navbar__button-main",onClick:t[1]||(t[1]=t=>e.$router.push("/weather-app/"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Main")])),_:1}),(0,n.Wm)(c,{class:"navbar__button-favorites",onClick:t[2]||(t[2]=t=>e.$router.push("/weather-app/favorites"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Favorites")])),_:1})])])])}var w={name:"navbar"},m=a(89);const _=(0,m.Z)(w,[["render",d]]);var v=_,f={components:{Navbar:v}};const g=(0,m.Z)(f,[["render",i]]);var y=g,D=a(7139);const W=e=>((0,n.dD)("data-v-52c0a6f0"),e=e(),(0,n.Cn)(),e),b={class:"main"},k={class:"search"},C={class:"search__wrapper"},I=W((()=>(0,n._)("div",{class:"f-button"},null,-1))),T={class:"main__wrapper"},P={class:"main__header"},O={class:"weather"},Z={class:"weather__buttons"};function z(e,t,a,s,i,c){const o=(0,n.up)("autocomplete-input"),u=(0,n.up)("custom-button"),l=(0,n.up)("weather-card"),p=(0,n.up)("weak-weather-card"),h=(0,n.up)("weather-graph");return(0,n.wg)(),(0,n.iD)("div",b,[(0,n._)("div",k,[(0,n._)("div",C,[(0,n.Wm)(o,{class:"search-input"}),I])]),(0,n._)("div",T,[(0,n._)("div",null,[(0,n._)("h1",P,"Weather in "+(0,D.zw)(e.city),1)]),(0,n._)("div",O,[(0,n._)("div",Z,[(0,n.Wm)(u,{class:(0,D.C_)(["weather__button day",{weather__button_active:i.weatherRange[0].active}]),onClick:t[0]||(t[0]=e=>c.changeWeatherRange(0))},{default:(0,n.w5)((()=>[(0,n.Uk)("Day")])),_:1},8,["class"]),(0,n.Wm)(u,{class:(0,D.C_)(["weather__button weak",{weather__button_active:i.weatherRange[1].active}]),onClick:t[1]||(t[1]=e=>c.changeWeatherRange(1))},{default:(0,n.w5)((()=>[(0,n.Uk)("Weak")])),_:1},8,["class"])]),(0,n.Wm)(r.W3,{name:"weather-card"},{default:(0,n.w5)((()=>[i.weatherRange[0].active&&!e.isLoading?((0,n.wg)(),(0,n.j4)(l,{key:"weatherCard"})):(0,n.kq)("",!0),i.weatherRange[1].active&&!e.isLoading?((0,n.wg)(),(0,n.j4)(p,{key:"weakWeatherCard"})):(0,n.kq)("",!0)])),_:1})]),(0,n.Wm)(h)])])}const B=e=>((0,n.dD)("data-v-164be892"),e=e(),(0,n.Cn)(),e),F={class:"weather-card"},L={class:"weather-card__wrapper"},U={class:"weather-card__date"},H={class:"weather-card__temperature"},S={key:0},j={class:"weather-card__feels"},q=B((()=>(0,n._)("span",null,"Feels ",-1))),x={key:0},M={class:"weather-card__clouds"},R={class:"weather-card__other-info"},$={class:"weather-card__wind"},G=B((()=>(0,n._)("span",{class:"name"},"Wind",-1))),V=B((()=>(0,n._)("span",{class:"symbol"},"m/s",-1))),K={class:"weather-card__pressure"},Y=B((()=>(0,n._)("span",{class:"name"},"Pressure",-1))),E=B((()=>(0,n._)("span",{class:"symbol"},"mm Hg",-1))),N={class:"weather-card__humidity"},A=B((()=>(0,n._)("span",{class:"name"},"Humidity",-1))),J=B((()=>(0,n._)("span",{class:"symbol"},"%",-1)));function Q(e,t,a,r,s,i){return(0,n.wg)(),(0,n.iD)("section",F,[(0,n._)("div",L,[(0,n._)("div",U,[(0,n._)("span",null,(0,D.zw)(e.date),1)]),(0,n._)("div",H,[e.currentTemperature>0?((0,n.wg)(),(0,n.iD)("span",S,"+")):(0,n.kq)("",!0),(0,n._)("span",null,(0,D.zw)(e.currentTemperature),1)]),(0,n._)("div",j,[q,e.currentFeels>0?((0,n.wg)(),(0,n.iD)("span",x,"+")):(0,n.kq)("",!0),(0,n._)("span",null,(0,D.zw)(e.currentFeels),1)]),(0,n._)("div",M,[(0,n._)("span",null,(0,D.zw)(e.currentClouds),1)]),(0,n._)("div",R,[(0,n._)("div",$,[G,(0,n._)("span",null,[(0,n.Uk)((0,D.zw)(e.currentWind),1),V])]),(0,n._)("div",K,[Y,(0,n._)("span",null,[(0,n.Uk)((0,D.zw)(e.currentPressure),1),E])]),(0,n._)("div",N,[A,(0,n._)("span",null,[(0,n.Uk)((0,D.zw)(e.currentHumidity),1),J])])])])])}var X=a(65),ee={name:"weather-card",data(){return{}},computed:{...(0,X.Se)({city:"weather/city",date:"weather/date",currentTemperature:"weather/currentTemperature",currentFeels:"weather/currentFeels",currentClouds:"weather/currentClouds",currentWind:"weather/currentWind",currentPressure:"weather/currentPressure",currentHumidity:"weather/currentHumidity"})}};const te=(0,m.Z)(ee,[["render",Q],["__scopeId","data-v-164be892"]]);var ae=te;const re=e=>((0,n.dD)("data-v-b77415ba"),e=e(),(0,n.Cn)(),e),ne={class:"weak-weather-card"},se={class:"weather-card__date"},ie={class:"weather-card__temperature"},ce={key:0},oe={class:"weather-card__feels"},ue=re((()=>(0,n._)("span",null,"Feels ",-1))),le={key:0},pe={class:"weather-card__clouds"},he={class:"weather-card__other-info"},de={class:"weather-card__wind"},we=re((()=>(0,n._)("span",{class:"name"},"Wind",-1))),me=re((()=>(0,n._)("span",{class:"symbol"},"m/s",-1))),_e={class:"weather-card__pressure"},ve=re((()=>(0,n._)("span",{class:"name"},"Pressure",-1))),fe=re((()=>(0,n._)("span",{class:"symbol"},"mm Hg",-1))),ge={class:"weather-card__humidity"},ye=re((()=>(0,n._)("span",{class:"name"},"Humidity",-1))),De=re((()=>(0,n._)("span",{class:"symbol"},"%",-1)));function We(e,t,a,r,s,i){return(0,n.wg)(),(0,n.iD)("section",ne,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.formattedWeakWeatherDate,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"weak-weather-card__element",key:e.dt},[(0,n._)("div",se,[(0,n._)("span",null,(0,D.zw)(e.date),1)]),(0,n._)("div",ie,[e.temperature>0?((0,n.wg)(),(0,n.iD)("span",ce,"+")):(0,n.kq)("",!0),(0,n._)("span",null,(0,D.zw)(e.temperature),1)]),(0,n._)("div",oe,[ue,e.feels>0?((0,n.wg)(),(0,n.iD)("span",le,"+")):(0,n.kq)("",!0),(0,n._)("span",null,(0,D.zw)(e.feels),1)]),(0,n._)("div",pe,[(0,n._)("span",null,(0,D.zw)(e.clouds),1)]),(0,n._)("div",he,[(0,n._)("div",de,[we,(0,n._)("span",null,[(0,n.Uk)((0,D.zw)(e.wind),1),me])]),(0,n._)("div",_e,[ve,(0,n._)("span",null,[(0,n.Uk)((0,D.zw)(e.pressure),1),fe])]),(0,n._)("div",ge,[ye,(0,n._)("span",null,[(0,n.Uk)((0,D.zw)(e.humidity),1),De])])])])))),128))])}var be={name:"weak-weather-card",data(){return{}},computed:{...(0,X.Se)({weakWeatherDate:"weather/weakWeatherDate",formattedWeakWeatherDate:"weather/formattedWeakWeatherDate"})}};const ke=(0,m.Z)(be,[["render",We],["__scopeId","data-v-b77415ba"]]);var Ce=ke;const Ie={ref:"weatherGraph",class:"weather-graph__canvas"};function Te(e,t,a,r,s,i){return(0,n.wg)(),(0,n.iD)("section",{class:"weather-graph",key:s.componentKey},[(0,n._)("canvas",Ie,null,512)])}var Pe=a(8454),Oe={name:"weather-graph",data(){return{graphInstance:null,componentKey:0}},computed:{...(0,X.rn)({weatherData:e=>e.weather.weatherData}),...(0,X.Se)({city:"weather/city"}),listForecast(){return this.weatherData?.list?.splice(0,10)},listTemperatures(){return this.listForecast?.map((e=>Math.round(e.main.temp)))},listTemperatureTimes(){const e={hour:"numeric",minute:"numeric"};return this.listForecast?.map((t=>{let a=new Date(1e3*t.dt).toLocaleString("en-US",e);return`${a}`}))},graphOptions(){return{type:"line",data:{labels:this.listTemperatureTimes,datasets:[{label:"Temperature",data:this.listTemperatures,backgroundColor:"#0099ff",borderColor:"#0099ff",borderWidth:2}]},options:{responsive:!0,lineTension:1,scales:{y:{type:"linear"}},plugins:{legend:{align:"end"}}}}}},methods:{initGraph(){setTimeout((()=>{const e=this.$refs.weatherGraph;this.graphInstance=new Pe.ZP(e,this.graphOptions)}),100)}},watch:{graphOptions:{handler(){this.componentKey+=1,this.initGraph()},deep:!0}},mounted(){this.initGraph()}};const Ze=(0,m.Z)(Oe,[["render",Te],["__scopeId","data-v-09b02c32"]]);var ze=Ze;const Be={class:"autocomplete"},Fe={key:0,class:"autocomplete__dropdown"},Le=["onClick"];function Ue(e,t,a,r,s,i){const c=(0,n.up)("custom-input");return(0,n.wg)(),(0,n.iD)("section",Be,[(0,n.Wm)(c,{ref:"autocompleteInput",class:"autocomplete__input",modelValue:r.searchTerm,"onUpdate:modelValue":t[0]||(t[0]=e=>r.searchTerm=e),placeholder:"Type city name ..."},null,8,["modelValue"]),r.searchCities.length>0?((0,n.wg)(),(0,n.iD)("ul",Fe,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.searchCities,(e=>((0,n.wg)(),(0,n.iD)("li",{class:"autocomplete__option",key:e,onClick:t=>i.selectCity(e)},(0,D.zw)(e),9,Le)))),128))])):(0,n.kq)("",!0)])}var He=a(4311),Se=a(4870);function je(){const e=(0,Se.iH)([]);let t=(0,Se.iH)("");const a=async()=>{try{const t=await He.Z.get("https://countriesnow.space/api/v0.1/countries/population/cities");e.value=t.data.data.map((e=>e.city))}catch(t){console.log(t)}},r=(0,n.Fl)((()=>""===t.value?[]:e.value.filter((e=>e.indexOf(t.value)>-1||e.toLowerCase().indexOf(t.value)>-1))));return(0,n.bv)(a),{searchTerm:t,searchCities:r}}var qe={name:"autocomplete-input",data(){return{}},methods:{...(0,X.nv)({fetchCurrentWeatherByCity:"weather/fetchCurrentWeatherByCity",fetchWeatherByCity:"weather/fetchWeatherByCity"}),selectCity(e){this.fetchCurrentWeatherByCity(e),this.fetchWeatherByCity(e),this.searchTerm=""}},setup(){const{searchTerm:e,searchCities:t}=je();return{searchTerm:e,searchCities:t}}};const xe=(0,m.Z)(qe,[["render",Ue],["__scopeId","data-v-1cc774e0"]]);var Me=xe,Re={components:{WeatherCard:ae,WeakWeatherCard:Ce,WeatherGraph:ze,AutocompleteInput:Me},data(){return{weatherRange:[{active:!0},{active:!1}]}},computed:{...(0,X.rn)({ipData:e=>e.ip.ipData,weatherData:e=>e.weather.weatherData,isLoading:e=>e.weather.isLoading}),...(0,X.Se)({city:"weather/city"})},methods:{...(0,X.OI)({}),...(0,X.nv)({fetchIP:"ip/fetchIP",fetchCurrentWeatherByIP:"weather/fetchCurrentWeatherByIP",fetchWeatherByIP:"weather/fetchWeatherByIP"}),changeWeatherRange(e){this.weatherRange.forEach(((t,a)=>{t.active=a===e}))}},async created(){await this.fetchIP(),await this.fetchCurrentWeatherByIP(this.ipData),await this.fetchWeatherByIP(this.ipData)}};const $e=(0,m.Z)(Re,[["render",z],["__scopeId","data-v-52c0a6f0"]]);var Ge=$e;function Ve(e,t,a,r,n,s){return null}var Ke={};const Ye=(0,m.Z)(Ke,[["render",Ve]]);var Ee=Ye,Ne=a(2483);const Ae=[{path:"/weather-app/",component:Ge},{path:"/weather-app/favorites",component:Ee}],Je=(0,Ne.p7)({history:(0,Ne.PO)(),routes:Ae});var Qe=Je;const Xe={state:()=>({ipData:null}),getters:{},mutations:{setIP(e,t){e.ipData=t}},actions:{async fetchIP({commit:e}){try{const t=await He.Z.get("https://ipapi.co/json/");e("setIP",t.data)}catch(t){console.log(t)}}},namespaced:!0},et={state:()=>({isLoading:!0,units:"metric",appid:"d8e5bc3db521d7a0cb06d99ce63610aa",limit:1,currentWeatherData:null,weatherData:null,dateOptions:{month:"long",day:"numeric"}}),getters:{city(e){return`${e.weatherData?.city?.name}, ${e.weatherData?.city?.country}`},date(e){return new Date(1e3*e.currentWeatherData?.dt).toLocaleString("en-US",e.dateOptions)},currentTemperature(e){return Math.floor(e.currentWeatherData?.main?.temp)},currentFeels(e){return Math.round(e.currentWeatherData?.main?.feels_like)},currentClouds(e){return e.currentWeatherData?.weather[0]?.description[0].toUpperCase()+e.currentWeatherData?.weather[0]?.description?.slice(1)},currentWind(e){return e.currentWeatherData?.wind?.speed},currentPressure(e){return(.750063755419211*e.currentWeatherData?.main?.pressure).toFixed(0)},currentHumidity(e){return e.currentWeatherData?.main?.humidity},weakWeatherDate(e){const t=[],a=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate());let r=new Date(a.setDate(a.getDate()+1));for(let n=0;n<e.weatherData?.list.length;n++)e.weatherData?.list[n].dt>Date.parse(r)/1e3&&(t.push(e.weatherData?.list[n]),r.setDate(r.getDate()+1));return t},formattedWeakWeatherDate(e,t){return t.weakWeatherDate?.map((t=>({date:new Date(1e3*t?.dt).toLocaleString("en-US",e.dateOptions),temperature:Math.round(t?.main?.temp),feels:Math.round(t?.main?.feels_like),clouds:t?.weather[0]?.description[0].toUpperCase()+t?.weather[0]?.description?.slice(1),wind:t?.wind?.speed,pressure:(.750063755419211*t?.main?.pressure).toFixed(0),humidity:t?.main?.humidity})))}},mutations:{setCurrentWeatherData(e,t){e.currentWeatherData=t},setWeatherData(e,t){e.weatherData=t},setLoading(e,t){e.isLoading=t}},actions:{async fetchCurrentWeatherByIP({state:e,commit:t},a){try{const r=await He.Z.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:a.latitude,lon:a.longitude,units:e.units,appid:e.appid}});t("setCurrentWeatherData",r.data)}catch(r){console.log(r)}finally{setTimeout((()=>{t("setLoading",!1)}),1e3)}},async fetchWeatherByIP({state:e,commit:t},a){try{const r=await He.Z.get("https://api.openweathermap.org/data/2.5/forecast",{params:{lat:a.latitude,lon:a.longitude,units:e.units,appid:e.appid}});t("setWeatherData",r.data)}catch(r){console.log(r)}finally{setTimeout((()=>{t("setLoading",!1)}),1e3)}},async fetchCurrentWeatherByCity({state:e,commit:t},a){try{const r=await He.Z.get("http://api.openweathermap.org/geo/1.0/direct",{params:{q:a,limit:e.limit,appid:e.appid}}).then((t=>He.Z.get("https://api.openweathermap.org/data/2.5/weather",{params:{lat:t.data[0].lat,lon:t.data[0].lon,units:e.units,appid:e.appid}})));t("setCurrentWeatherData",r.data)}catch(r){console.log(r)}finally{t("setLoading",!1)}},async fetchWeatherByCity({state:e,commit:t},a){try{const r=await He.Z.get("http://api.openweathermap.org/geo/1.0/direct",{params:{q:a,limit:e.limit,appid:e.appid}}).then((t=>He.Z.get("https://api.openweathermap.org/data/2.5/forecast",{params:{lat:t.data[0].lat,lon:t.data[0].lon,units:e.units,appid:e.appid}})));t("setWeatherData",r.data)}catch(r){console.log(r)}finally{t("setLoading",!1)}}},namespaced:!0};var tt=(0,X.MT)({modules:{ip:Xe,weather:et}});const at={class:"button"};function rt(e,t,a,r,s,i){return(0,n.wg)(),(0,n.iD)("button",at,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var nt={name:"custom-button"};const st=(0,m.Z)(nt,[["render",rt],["__scopeId","data-v-2409a554"]]);var it=st;const ct=["value"];function ot(e,t,a,r,s,i){return(0,n.wg)(),(0,n.iD)("input",{value:a.modelValue,onInput:t[0]||(t[0]=(...e)=>i.updateInput&&i.updateInput(...e)),type:"text"},null,40,ct)}var ut={name:"custom-input",props:{modelValue:[String,Number]},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const lt=(0,m.Z)(ut,[["render",ot],["__scopeId","data-v-886738c0"]]);var pt=lt,ht=[it,pt];const dt=(0,r.ri)(y);ht.forEach((e=>{dt.component(e.name,e)})),dt.use(tt).use(Qe).mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,s){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],n=e[l][1],s=e[l][2];for(var c=!0,o=0;o<r.length;o++)(!1&s||i>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[o])}))?r.splice(o--,1):(c=!1,s<i&&(i=s));if(c){e.splice(l--,1);var u=n();void 0!==u&&(t=u)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[r,n,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/weather-app/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,s,i=r[0],c=r[1],o=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(o)var l=o(a)}for(t&&t(r);u<i.length;u++)s=i[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(l)},r=self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(4018)}));r=a.O(r)})();
//# sourceMappingURL=app.c6cafb2b.js.map