(function(){"use strict";var t={5752:function(t,e,a){var r=a(9242),n=a(3396);const o={class:"app"};function s(t,e,a,r,s,i){const c=(0,n.up)("navbar"),u=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(c),(0,n._)("div",o,[(0,n.Wm)(u)])],64)}a(7658);const i={class:"navbar"},c={class:"navbar__buttons"};function u(t,e,a,r,o,s){const u=(0,n.up)("custom-button");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",{onClick:e[0]||(e[0]=e=>t.$router.push("/"))},"Weather App"),(0,n._)("div",c,[(0,n.Wm)(u,{class:"navbar__button-main",onClick:e[1]||(e[1]=e=>t.$router.push("/weather-app/"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Main")])),_:1}),(0,n.Wm)(u,{class:"navbar__button-favorites",onClick:e[2]||(e[2]=e=>t.$router.push("/weather-app/favorites"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Favorites")])),_:1})])])}var p={name:"navbar"},h=a(89);const l=(0,h.Z)(p,[["render",u]]);var d=l,f={components:{Navbar:d}};const v=(0,h.Z)(f,[["render",s]]);var m=v;const w=t=>((0,n.dD)("data-v-32cec838"),t=t(),(0,n.Cn)(),t),b={class:"main"},g=w((()=>(0,n._)("div",{class:"weather-block"},null,-1))),D={class:"temperature-block"};function y(t,e,a,r,o,s){const i=(0,n.up)("weather-graph");return(0,n.wg)(),(0,n.iD)("div",b,[g,(0,n._)("div",D,[(0,n.Wm)(i)])])}const _=t=>((0,n.dD)("data-v-c2917efa"),t=t(),(0,n.Cn)(),t),O={class:"graph-wrapper"},W=_((()=>(0,n._)("canvas",{id:"weather-graph"},null,-1))),I=[W];function k(t,e,a,r,o,s){return(0,n.wg)(),(0,n.iD)("div",O,I)}var P=a(8454),T=a(65),Z={name:"weather-graph",data(){return{graphOptions:{type:"bar",data:{labels:[],datasets:[{label:"Temperature",data:[],backgroundColor:"#0000ff",borderColor:"transparent",borderWidth:3}]},options:{responsive:!0,lineTension:1,scales:{yAxes:[{ticks:{beginAtZero:!0,padding:0}}]}}}}},computed:{...(0,T.rn)({weatherData:t=>t.weather.weatherData}),...(0,T.Se)({city:"weather/city"}),listForecast(){return this.weatherData?.list?.splice(0,10)},listTemperatures(){return this.listForecast?.map((t=>Math.round(t.main.temp)))},listTemperatureTimes(){const t={hour:"numeric",minute:"numeric"};return this.listForecast?.map((e=>{let a=new Date(1e3*e.dt).toLocaleString("en-US",t);return console.log(a),`${a}`}))}},methods:{setGraphOptions(){this.graphOptions.data.datasets[0].data=this.listTemperatures,this.graphOptions.data.labels=this.listTemperatureTimes},initGraph(){const t=document.getElementById("weather-graph");new P.ZP(t,this.graphOptions)}},mounted(){setTimeout((()=>{this.setGraphOptions(),this.initGraph()}),1e3)}};const C=(0,h.Z)(Z,[["render",k],["__scopeId","data-v-c2917efa"]]);var j=C,$={components:{WeatherGraph:j},data(){return{}},computed:{...(0,T.rn)({ipData:t=>t.ip.ipData,weatherData:t=>t.weather.weatherData}),...(0,T.Se)({city:"weather/city",todayWeather:"weather/todayWeather"})},methods:{...(0,T.OI)({}),...(0,T.nv)({fetchIP:"ip/fetchIP",fetchWeatherByIP:"weather/fetchWeatherByIP"})},async created(){await this.fetchIP(),await this.fetchWeatherByIP(this.ipData)}};const F=(0,h.Z)($,[["render",y],["__scopeId","data-v-32cec838"]]);var x=F;function B(t,e,a,r,n,o){return null}var G={};const M=(0,h.Z)(G,[["render",B]]);var S=M,A=a(2483);const E=[{path:"/weather-app/",component:x},{path:"/weather-app/favorites",component:S}],U=(0,A.p7)({history:(0,A.PO)(),routes:E});var Y=U,H=a(4311);const L={state:()=>({ipData:null}),getters:{},mutations:{setIP(t,e){t.ipData=e}},actions:{async fetchIP({commit:t}){try{const e=await H.Z.get("https://ipapi.co/json/");t("setIP",e.data)}catch(e){console.log(e)}}},namespaced:!0},N={state:()=>({cnt:2,units:"metric",appid:"afd610eb48b6805bd69ff2d873ee4bf1",weatherData:null,todayWeather:null}),getters:{city(t){return`${t.weatherData?.city?.name}, ${t.weatherData?.city?.country}`},todayWeather(t){const e=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),a=new Date(e);return a.setDate(a.getDate()+1),t.weatherData?.list?.filter((t=>t.dt<Date.parse(a)/1e3))}},mutations:{setWeatherData(t,e){t.weatherData=e}},actions:{async fetchWeatherByIP({state:t,commit:e},a){try{const r=await H.Z.get("https://api.openweathermap.org/data/2.5/forecast",{params:{lat:a.latitude,lon:a.longitude,units:t.units,appid:t.appid}});e("setWeatherData",r.data)}catch(r){console.log(r)}}},namespaced:!0};var q=(0,T.MT)({modules:{ip:L,weather:N}});const z={class:"button"};function J(t,e,a,r,o,s){return(0,n.wg)(),(0,n.iD)("button",z,[(0,n.WI)(t.$slots,"default",{},void 0,!0)])}var K={name:"custom-button"};const Q=(0,h.Z)(K,[["render",J],["__scopeId","data-v-d30c6940"]]);var R=Q,V=[R];const X=(0,r.ri)(m);V.forEach((t=>{X.component(t.name,t)})),X.use(q).use(Y).mount("#app")}},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,r,n,o){if(!r){var s=1/0;for(p=0;p<t.length;p++){r=t[p][0],n=t[p][1],o=t[p][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||s>=o)&&Object.keys(a.O).every((function(t){return a.O[t](r[c])}))?r.splice(c--,1):(i=!1,o<s&&(s=o));if(i){t.splice(p--,1);var u=n();void 0!==u&&(e=u)}}return e}o=o||0;for(var p=t.length;p>0&&t[p-1][2]>o;p--)t[p]=t[p-1];t[p]=[r,n,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,o,s=r[0],i=r[1],c=r[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var p=c(a)}for(e&&e(r);u<s.length;u++)o=s[u],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(p)},r=self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(5752)}));r=a.O(r)})();
//# sourceMappingURL=app.bbf946a9.js.map